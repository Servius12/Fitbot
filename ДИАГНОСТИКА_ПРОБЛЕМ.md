# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –ù–∞–∂–º–∏—Ç–µ **F12** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Console**
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
4. –°–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- ‚úÖ `‚úÖ Supabase –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω` - Supabase —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `‚úÖ Trickle API –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ` - API –∑–∞–≥—Ä—É–∂–µ–Ω
- ‚úÖ `üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Supabase` - –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚ùå –ö—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏ - –ø—Ä–æ–±–ª–µ–º—ã

---

### –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Å–∫—Ä–∏–ø—Ç–æ–≤

–í –∫–æ–Ω—Å–æ–ª–∏ (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Network**:

1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
2. –ù–∞–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–∫–µ:
   - `trickle-api-supabase.js` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å **200**
   - `supabase-config.js` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å **200**
   - `@supabase/supabase-js@2` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å **200**

**–ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –Ω–µ 200:**
- –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω (404) - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å
- –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ (500) - –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
console.log('URL:', window.SUPABASE_CONFIG?.url);
console.log('Key:', window.SUPABASE_CONFIG?.anonKey ? '–ï—Å—Ç—å' : '–ù–µ—Ç');
console.log('–î–æ—Å—Ç—É–ø–µ–Ω:', window.SUPABASE_CONFIG?.isAvailable());

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª–∏–µ–Ω—Ç
const client = window.SUPABASE_CONFIG?.getClient();
console.log('–ö–ª–∏–µ–Ω—Ç:', client);
```

**–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
- URL: `https://hmxqqewurxkptxflqjca.supabase.co`
- Key: `–ï—Å—Ç—å`
- –î–æ—Å—Ç—É–ø–µ–Ω: `true` –∏–ª–∏ `false`
- –ö–ª–∏–µ–Ω—Ç: –æ–±—ä–µ–∫—Ç (–Ω–µ null)

---

### –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://app.supabase.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `user_registration`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏
   - –ö–æ–ª–æ–Ω–∫–∞ `email` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å

**–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç:**
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `supabase-migration-add-email.sql`

---

### –®–ê–ì 5: –¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞
trickleCreateObject('user_registration', {
  telegram_id: 'test_' + Date.now(),
  username: 'test_user',
  password: 'test_pass',
  first_name: 'Test',
  last_name: 'User',
  requested_role: 'client',
  status: 'pending'
}).then(result => {
  console.log('‚úÖ –£—Å–ø–µ—Ö:', result);
}).catch(error => {
  console.error('‚ùå –û—à–∏–±–∫–∞:', error);
  console.error('–î–µ—Ç–∞–ª–∏:', error.message, error.code);
});
```

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (RLS)

---

### –®–ê–ì 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí **Table Editor**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `user_registration`
3. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤–∞—à–∏ –∑–∞—è–≤–∫–∏

**–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase (–Ω–µ localStorage)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤ Table Editor

---

## üîß –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è:

### –û—à–∏–±–∫–∞: "Supabase –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"

**–ü—Ä–∏—á–∏–Ω–∞:** –°–∫—Ä–∏–ø—Ç Supabase –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –µ—Å—Ç—å –≤ HTML:
   ```html
   <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
   ```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏

---

### –û—à–∏–±–∫–∞: "relation does not exist"

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –≤ Supabase
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `user_registration`)

---

### –û—à–∏–±–∫–∞: "new row violates row-level security"

**–ü—Ä–∏—á–∏–Ω–∞:** RLS –≤–∫–ª—é—á–µ–Ω –±–µ–∑ –ø–æ–ª–∏—Ç–∏–∫

**–†–µ—à–µ–Ω–∏–µ:**
```sql
ALTER TABLE user_registration DISABLE ROW LEVEL SECURITY;
```

---

### –û—à–∏–±–∫–∞: "column does not exist"

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–ª–æ–Ω–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é `supabase-migration-add-email.sql`
2. –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–ª–æ–Ω–∫—É –≤—Ä—É—á–Ω—É—é

---

### –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –Ω–æ –æ—à–∏–±–æ–∫ –Ω–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è localStorage –≤–º–µ—Å—Ç–æ Supabase

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase`
2. –ï—Å–ª–∏ `‚ö†Ô∏è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è localStorage` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é Supabase

---

## üìù –û—Ç—á–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–µ:

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞, —Å–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

1. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –æ—à–∏–±–∫–∏ (–∫—Ä–∞—Å–Ω—ã–º)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

2. **Network –≤–∫–ª–∞–¥–∫–∞:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase

3. **Supabase:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

**–°–ª–µ–¥—É–π—Ç–µ —à–∞–≥–∞–º –≤—ã—à–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏!** üîç

