# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ SQL

## ‚ùå –û—à–∏–±–∫–∞:
```
ERROR: 42703: column "email" does not exist
```

## üîç –ü—Ä–∏—á–∏–Ω–∞:
–¢–∞–±–ª–∏—Ü–∞ `user_registration` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –±–µ–∑ –∫–æ–ª–æ–Ω–∫–∏ `email`.

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** –≤ Supabase
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ **`supabase-migration-add-email.sql`**
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
4. –ì–æ—Ç–æ–≤–æ! ‚úÖ

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∫–æ–ª–æ–Ω–∫–∞ `email`
- –î–æ–±–∞–≤–∏—Ç –µ—ë, –µ—Å–ª–∏ –Ω–µ—Ç
- –°–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É `password_reset_tokens`
- –°–æ–∑–¥–∞—Å—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** –≤ Supabase
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ **`supabase-schema-fixed.sql`**
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
4. –ì–æ—Ç–æ–≤–æ! ‚úÖ

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é:

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É email
ALTER TABLE user_registration ADD COLUMN email TEXT;

-- –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å
CREATE INDEX IF NOT EXISTS idx_user_registration_email ON user_registration(email);
```

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã `password_reset_tokens`.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞:

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'user_registration';

-- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–æ–ª–æ–Ω–∫–∞ email
```

---

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. –ö–æ–ª–æ–Ω–∫–∞ `email` –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `user_registration`
2. –¢–∞–±–ª–∏—Ü–∞ `password_reset_tokens` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞
3. –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!

---

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `supabase-migration-add-email.sql` - –æ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–æ–±–∞–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ!** üöÄ

